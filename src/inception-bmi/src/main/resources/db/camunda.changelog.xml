<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

  <property name="blob_type" value="bytea" dbms="h2"/>
  <property name="blob_type" value="bytea" dbms="postgresql"/>
  <property name="blob_type" value="blob" dbms="oracle"/>
  <property name="blob_type" value="varbinary(max)" dbms="mssql"/>
  <property name="now" value="now()" dbms="h2"/>
  <property name="now" value="now()" dbms="postgresql"/>
  <property name="now" value="sysdate" dbms="oracle"/>
  <property name="now" value="CURRENT_TIMESTAMP" dbms="mssql"/>

  <!--
  Extracted from a combination of the following files:

  camunda-bpm-platform/engine/src/main/resources/org/camunda/bpm/engine/db/create/activiti.postgres.create.engine.sql
  camunda-bpm-platform/engine/src/main/resources/org/camunda/bpm/engine/db/create/activiti.postgres.create.case.engine.sql

  NOTE: This is necessary because additional indexes are added in the activiti.postgres.create.case.engine.sql file
        to the core tables defined in the activiti.postgres.create.engine.sql file.
  -->
  <changeSet id="camunda-engine-7.15.0" author="Marcus Portmann">
    <comment>Camunda - Engine - 7.15.0</comment>
    <sql dbms="h2" endDelimiter=";">
      CREATE SCHEMA IF NOT EXISTS CAMUNDA
    </sql>
    <sql dbms="postgresql" endDelimiter=";">
      CREATE SCHEMA IF NOT EXISTS CAMUNDA
    </sql>
    <sql dbms="mssql" endDelimiter=";">
      CREATE SCHEMA CAMUNDA
    </sql>

    <createTable schemaName="CAMUNDA" tableName="ACT_GE_BYTEARRAY">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="NAME_" type="nvarchar(255)"/>
      <column name="DEPLOYMENT_ID_" type="nvarchar(64)"/>
      <column name="BYTES_" type="${blob_type}"/>
      <column name="GENERATED_" type="boolean"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="TYPE_" type="int"/>
      <column name="CREATE_TIME_" type="timestamp"/>
      <column name="ROOT_PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="REMOVAL_TIME_" type="timestamp"/>
    </createTable>
    <createIndex indexName="ACT_IDX_BYTEAR_DEPL" schemaName="CAMUNDA" tableName="ACT_GE_BYTEARRAY">
      <column name="DEPLOYMENT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_BYTEARRAY_ROOT_PI" schemaName="CAMUNDA" tableName="ACT_GE_BYTEARRAY">
      <column name="ROOT_PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_BYTEARRAY_RM_TIME" schemaName="CAMUNDA" tableName="ACT_GE_BYTEARRAY">
      <column name="REMOVAL_TIME_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_BYTEARRAY_NAME" schemaName="CAMUNDA" tableName="ACT_GE_BYTEARRAY">
      <column name="NAME_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="VALUE_" type="nvarchar(300)"/>
      <column name="REV_" type="int"/>
    </createTable>

    <createTable schemaName="CAMUNDA" tableName="ACT_GE_SCHEMA_LOG">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="TIMESTAMP_" type="timestamp"/>
      <column name="VERSION_" type="nvarchar(255)"/>
    </createTable>

    <createTable schemaName="CAMUNDA" tableName="ACT_RE_DEPLOYMENT">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="NAME_" type="nvarchar(255)"/>
      <column name="DEPLOY_TIME_" type="timestamp"/>
      <column name="SOURCE_" type="nvarchar(255)"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_DEPLOYMENT_NAME" schemaName="CAMUNDA" tableName="ACT_RE_DEPLOYMENT">
      <column name="NAME_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_DEPLOYMENT_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RE_DEPLOYMENT">
      <column name="TENANT_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RE_PROCDEF">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="CATEGORY_" type="nvarchar(255)"/>
      <column name="NAME_" type="nvarchar(255)"/>
      <column name="KEY_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="VERSION_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DEPLOYMENT_ID_" type="nvarchar(64)"/>
      <column name="RESOURCE_NAME_" type="nvarchar(4000)"/>
      <column name="DGRM_RESOURCE_NAME_" type="nvarchar(4000)"/>
      <column name="HAS_START_FORM_KEY_" type="boolean"/>
      <column name="SUSPENSION_STATE_" type="int"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="VERSION_TAG_" type="nvarchar(64)"/>
      <column name="HISTORY_TTL_" type="int"/>
      <column name="STARTABLE_" type="boolean" defaultValue="true">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createIndex indexName="ACT_IDX_PROCDEF_DEPLOYMENT_ID" schemaName="CAMUNDA" tableName="ACT_RE_PROCDEF">
      <column name="DEPLOYMENT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_PROCDEF_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RE_PROCDEF">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_PROCDEF_VER_TAG" schemaName="CAMUNDA" tableName="ACT_RE_PROCDEF">
      <column name="VERSION_TAG_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_AUTHORIZATION">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="TYPE_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="GROUP_ID_" type="nvarchar(255)"/>
      <column name="USER_ID_" type="nvarchar(255)"/>
      <column name="RESOURCE_TYPE_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="RESOURCE_ID_" type="nvarchar(255)"/>
      <column name="PERMS_" type="int"/>
      <column name="REMOVAL_TIME_" type="timestamp"/>
      <column name="ROOT_PROC_INST_ID_" type="nvarchar(64)"/>
    </createTable>
    <addUniqueConstraint constraintName="ACT_UNIQ_AUTH_USER" schemaName="CAMUNDA"
      tableName="ACT_RU_AUTHORIZATION" columnNames="TYPE_,USER_ID_,RESOURCE_TYPE_,RESOURCE_ID_"/>
    <addUniqueConstraint constraintName="ACT_UNIQ_AUTH_GROUP" schemaName="CAMUNDA"
      tableName="ACT_RU_AUTHORIZATION" columnNames="TYPE_,GROUP_ID_,RESOURCE_TYPE_,RESOURCE_ID_"/>
    <createIndex indexName="ACT_IDX_AUTH_GROUP_ID" schemaName="CAMUNDA" tableName="ACT_RU_AUTHORIZATION">
      <column name="GROUP_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_AUTH_ROOT_PI" schemaName="CAMUNDA" tableName="ACT_RU_AUTHORIZATION">
      <column name="ROOT_PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_AUTH_RM_TIME" schemaName="CAMUNDA" tableName="ACT_RU_AUTHORIZATION">
      <column name="REMOVAL_TIME_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_AUTH_RESOURCE_ID" schemaName="CAMUNDA" tableName="ACT_RU_AUTHORIZATION">
      <column name="RESOURCE_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_BATCH">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="TYPE_" type="nvarchar(255)"/>
      <column name="TOTAL_JOBS_" type="int"/>
      <column name="JOBS_CREATED_" type="int"/>
      <column name="JOBS_PER_SEED_" type="int"/>
      <column name="INVOCATIONS_PER_JOB_" type="int"/>
      <column name="SEED_JOB_DEF_ID_" type="nvarchar(64)"/>
      <column name="BATCH_JOB_DEF_ID_" type="nvarchar(64)"/>
      <column name="MONITOR_JOB_DEF_ID_" type="nvarchar(64)"/>
      <column name="SUSPENSION_STATE_" type="int"/>
      <column name="CONFIGURATION_" type="nvarchar(255)"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="CREATE_USER_ID_" type="nvarchar(255)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_BATCH_SEED_JOB_DEF" schemaName="CAMUNDA" tableName="ACT_RU_BATCH">
      <column name="SEED_JOB_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_BATCH_MONITOR_JOB_DEF" schemaName="CAMUNDA" tableName="ACT_RU_BATCH">
      <column name="MONITOR_JOB_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_BATCH_JOB_DEF" schemaName="CAMUNDA" tableName="ACT_RU_BATCH">
      <column name="BATCH_JOB_DEF_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_EVENT_SUBSCR">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="EVENT_TYPE_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="EVENT_NAME_" type="nvarchar(255)"/>
      <column name="EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="ACTIVITY_ID_" type="nvarchar(255)"/>
      <column name="CONFIGURATION_" type="nvarchar(255)"/>
      <column name="CREATED_" type="timestamp">
        <constraints nullable="false"/>
      </column>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_EVENT_SUBSCR_CONFIG_" schemaName="CAMUNDA" tableName="ACT_RU_EVENT_SUBSCR">
      <column name="CONFIGURATION_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EVENT_SUBSCR_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_EVENT_SUBSCR">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EVENT_SUBSCR" schemaName="CAMUNDA" tableName="ACT_RU_EVENT_SUBSCR">
      <column name="EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EVENT_SUBSCR_EVT_NAME" schemaName="CAMUNDA" tableName="ACT_RU_EVENT_SUBSCR">
      <column name="EVENT_NAME_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="ROOT_PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="BUSINESS_KEY_" type="nvarchar(255)"/>
      <column name="PARENT_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="SUPER_EXEC_" type="nvarchar(64)"/>
      <column name="SUPER_CASE_EXEC_" type="nvarchar(64)"/>
      <column name="CASE_INST_ID_" type="nvarchar(64)"/>
      <column name="ACT_ID_" type="nvarchar(255)"/>
      <column name="ACT_INST_ID_" type="nvarchar(64)"/>
      <column name="IS_ACTIVE_" type="boolean"/>
      <column name="IS_CONCURRENT_" type="boolean"/>
      <column name="IS_SCOPE_" type="boolean"/>
      <column name="IS_EVENT_SCOPE_" type="boolean"/>
      <column name="SUSPENSION_STATE_" type="int"/>
      <column name="CACHED_ENT_STATE_" type="int"/>
      <column name="SEQUENCE_COUNTER_" type="bigint"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_EXE_ROOT_PI" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="ROOT_PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXEC_BUSKEY" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="BUSINESS_KEY_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXEC_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXE_PROCINST" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXE_PARENT" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="PARENT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXE_SUPER" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="SUPER_EXEC_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXE_PROCDEF" schemaName="CAMUNDA" tableName="ACT_RU_EXECUTION">
      <column name="PROC_DEF_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_EXT_TASK">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="WORKER_ID_" type="nvarchar(255)"/>
      <column name="TOPIC_NAME_" type="nvarchar(255)"/>
      <column name="RETRIES_" type="int"/>
      <column name="ERROR_MSG_" type="nvarchar(4000)"/>
      <column name="ERROR_DETAILS_ID_" type="nvarchar(64)"/>
      <column name="LOCK_EXP_TIME_" type="timestamp"/>
      <column name="SUSPENSION_STATE_" type="int"/>
      <column name="EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_KEY_" type="nvarchar(255)"/>
      <column name="ACT_ID_" type="nvarchar(255)"/>
      <column name="ACT_INST_ID_" type="nvarchar(64)"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="PRIORITY_" type="bigint" defaultValue="0">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <createIndex indexName="ACT_IDX_EXT_TASK_TOPIC" schemaName="CAMUNDA" tableName="ACT_RU_EXT_TASK">
      <column name="TOPIC_NAME_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXT_TASK_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_EXT_TASK">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXT_TASK_PRIORITY" schemaName="CAMUNDA" tableName="ACT_RU_EXT_TASK">
      <column name="PRIORITY_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXT_TASK_ERR_DETAILS" schemaName="CAMUNDA" tableName="ACT_RU_EXT_TASK">
      <column name="ERROR_DETAILS_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_EXT_TASK_EXEC" schemaName="CAMUNDA" tableName="ACT_RU_EXT_TASK">
      <column name="EXECUTION_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_FILTER">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="RESOURCE_TYPE_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="NAME_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="OWNER_" type="nvarchar(255)"/>
      <column name="QUERY_" type="clob">
        <constraints nullable="false"/>
      </column>
      <column name="PROPERTIES_" type="clob"/>
    </createTable>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_IDENTITYLINK">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="GROUP_ID_" type="nvarchar(255)"/>
      <column name="TYPE_" type="nvarchar(255)"/>
      <column name="USER_ID_" type="nvarchar(255)"/>
      <column name="TASK_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_IDENT_LNK_USER" schemaName="CAMUNDA" tableName="ACT_RU_IDENTITYLINK">
      <column name="USER_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_IDENT_LNK_GROUP" schemaName="CAMUNDA" tableName="ACT_RU_IDENTITYLINK">
      <column name="GROUP_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TSKASS_TASK" schemaName="CAMUNDA" tableName="ACT_RU_IDENTITYLINK">
      <column name="TASK_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_ATHRZ_PROCEDEF" schemaName="CAMUNDA" tableName="ACT_RU_IDENTITYLINK">
      <column name="PROC_DEF_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="INCIDENT_TIMESTAMP_" type="timestamp">
        <constraints nullable="false"/>
      </column>
      <column name="INCIDENT_MSG_" type="nvarchar(4000)"/>
      <column name="INCIDENT_TYPE_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="ACTIVITY_ID_" type="nvarchar(255)"/>
      <column name="FAILED_ACTIVITY_ID_" type="nvarchar(255)"/>
      <column name="PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="CAUSE_INCIDENT_ID_" type="nvarchar(64)"/>
      <column name="ROOT_CAUSE_INCIDENT_ID_" type="nvarchar(64)"/>
      <column name="CONFIGURATION_" type="nvarchar(255)"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="JOB_DEF_ID_" type="nvarchar(64)"/>
      <column name="ANNOTATION_" type="nvarchar(4000)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_INC_CONFIGURATION" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="CONFIGURATION_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_JOB_DEF" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="JOB_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_CAUSEINCID" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="CAUSE_INCIDENT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_EXID" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_PROCDEFID" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="PROC_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_PROCINSTID" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_INC_ROOTCAUSEINCID" schemaName="CAMUNDA" tableName="ACT_RU_INCIDENT">
      <column name="ROOT_CAUSE_INCIDENT_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="TYPE_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="LOCK_EXP_TIME_" type="timestamp"/>
      <column name="LOCK_OWNER_" type="nvarchar(255)"/>
      <column name="EXCLUSIVE_" type="boolean"/>
      <column name="EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="PROCESS_INSTANCE_ID_" type="nvarchar(64)"/>
      <column name="PROCESS_DEF_ID_" type="nvarchar(64)"/>
      <column name="PROCESS_DEF_KEY_" type="nvarchar(255)"/>
      <column name="RETRIES_" type="int"/>
      <column name="EXCEPTION_STACK_ID_" type="nvarchar(64)"/>
      <column name="EXCEPTION_MSG_" type="nvarchar(4000)"/>
      <column name="FAILED_ACT_ID_" type="nvarchar(255)"/>
      <column name="DUEDATE_" type="timestamp"/>
      <column name="REPEAT_" type="nvarchar(255)"/>
      <column name="REPEAT_OFFSET_" type="bigint" defaultValue="0"/>
      <column name="HANDLER_TYPE_" type="nvarchar(255)"/>
      <column name="HANDLER_CFG_" type="nvarchar(4000)"/>
      <column name="DEPLOYMENT_ID_" type="nvarchar(64)"/>
      <column name="SUSPENSION_STATE_" type="int" defaultValue="1">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_DEF_ID_" type="nvarchar(64)"/>
      <column name="PRIORITY_" type="bigint" defaultValue="0">
        <constraints nullable="false"/>
      </column>
      <column name="SEQUENCE_COUNTER_" type="bigint"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="CREATE_TIME_" type="timestamp"/>
    </createTable>
    <createIndex indexName="ACT_IDX_JOB_EXECUTION_ID" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOB_HANDLER" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="HANDLER_TYPE_"/>
      <column name="HANDLER_CFG_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOB_PROCINST" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="PROCESS_INSTANCE_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOB_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOB_JOB_DEF_ID" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="JOB_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOB_EXCEPTION" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="EXCEPTION_STACK_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOB_HANDLER_TYPE" schemaName="CAMUNDA" tableName="ACT_RU_JOB">
      <column name="HANDLER_TYPE_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_JOBDEF">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_KEY_" type="nvarchar(255)"/>
      <column name="ACT_ID_" type="nvarchar(255)"/>
      <column name="JOB_TYPE_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_CONFIGURATION_" type="nvarchar(255)"/>
      <column name="SUSPENSION_STATE_" type="int"/>
      <column name="JOB_PRIORITY_" type="bigint"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="DEPLOYMENT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_JOBDEF_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_JOBDEF">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_JOBDEF_PROC_DEF_ID" schemaName="CAMUNDA" tableName="ACT_RU_JOBDEF">
      <column name="PROC_DEF_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="NAME_" type="nvarchar(64)">
        <constraints nullable="false"/>
      </column>
      <column name="REPORTER_" type="nvarchar(255)"/>
      <column name="VALUE_" type="bigint"/>
      <column name="TIMESTAMP_" type="timestamp"/>
      <column name="MILLISECONDS_" type="bigint" defaultValue="0"/>
    </createTable>
    <createIndex indexName="ACT_IDX_METER_LOG_MS" schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="MILLISECONDS_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_METER_LOG_NAME_MS" schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="NAME_"/>
      <column name="MILLISECONDS_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_METER_LOG_REPORT" schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="NAME_"/>
      <column name="REPORTER_"/>
      <column name="MILLISECONDS_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_METER_LOG_TIME" schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="TIMESTAMP_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_METER_LOG" schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="NAME_"/>
      <column name="TIMESTAMP_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_METER_LOG_TIME" schemaName="CAMUNDA" tableName="ACT_RU_METER_LOG">
      <column name="TIMESTAMP_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="CASE_EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="CASE_INST_ID_" type="nvarchar(64)"/>
      <column name="CASE_DEF_ID_" type="nvarchar(64)"/>
      <column name="NAME_" type="nvarchar(255)"/>
      <column name="PARENT_TASK_ID_" type="nvarchar(64)"/>
      <column name="DESCRIPTION_" type="nvarchar(4000)"/>
      <column name="TASK_DEF_KEY_" type="nvarchar(255)"/>
      <column name="OWNER_" type="nvarchar(255)"/>
      <column name="ASSIGNEE_" type="nvarchar(255)"/>
      <column name="DELEGATION_" type="nvarchar(64)"/>
      <column name="PRIORITY_" type="int"/>
      <column name="CREATE_TIME_" type="timestamp"/>
      <column name="DUE_DATE_" type="timestamp"/>
      <column name="FOLLOW_UP_DATE_" type="timestamp"/>
      <column name="SUSPENSION_STATE_" type="int"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_TASK_CREATE" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="CREATE_TIME_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_ASSIGNEE" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="ASSIGNEE_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_OWNER" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="OWNER_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_EXEC" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_PROCINST" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_PROCDEF" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="PROC_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_CASE_EXEC" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="CASE_EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_TASK_CASE_DEF_ID" schemaName="CAMUNDA" tableName="ACT_RU_TASK">
      <column name="CASE_DEF_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_TASK_METER_LOG">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="ASSIGNEE_HASH_" type="bigint"/>
      <column name="TIMESTAMP_" type="timestamp"/>
    </createTable>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="TYPE_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="NAME_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="PROC_INST_ID_" type="nvarchar(64)"/>
      <column name="PROC_DEF_ID_" type="nvarchar(64)"/>
      <column name="CASE_EXECUTION_ID_" type="nvarchar(64)"/>
      <column name="CASE_INST_ID_" type="nvarchar(64)"/>
      <column name="TASK_ID_" type="nvarchar(64)"/>
      <column name="BATCH_ID_" type="nvarchar(64)"/>
      <column name="BYTEARRAY_ID_" type="nvarchar(64)"/>
      <column name="DOUBLE_" type="double"/>
      <column name="LONG_" type="bigint"/>
      <column name="TEXT_" type="nvarchar(4000)"/>
      <column name="TEXT2_" type="nvarchar(4000)"/>
      <column name="VAR_SCOPE_" type="nvarchar(64)"/>
      <column name="SEQUENCE_COUNTER_" type="bigint"/>
      <column name="IS_CONCURRENT_LOCAL_" type="boolean"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <addUniqueConstraint constraintName="ACT_UNIQ_VARIABLE" schemaName="CAMUNDA"
      tableName="ACT_RU_VARIABLE" columnNames="VAR_SCOPE_, NAME_"/>
    <createIndex indexName="ACT_IDX_VARIABLE_TASK_ID" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="TASK_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VARIABLE_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="TENANT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VARIABLE_TASK_NAME_TYPE" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="TASK_ID_"/>
      <column name="NAME_"/>
      <column name="TYPE_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VAR_EXE" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VAR_PROCINST" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="PROC_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VAR_BYTEARRAY" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="BYTEARRAY_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_BATCH_ID" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="BATCH_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VAR_CASE_EXE" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="CASE_EXECUTION_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_VAR_CASE_INST_ID" schemaName="CAMUNDA" tableName="ACT_RU_VARIABLE">
      <column name="CASE_INST_ID_"/>
    </createIndex>


    <addForeignKeyConstraint constraintName="ACT_FK_BYTEARR_DEPL" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_GE_BYTEARRAY" baseColumnNames="DEPLOYMENT_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_DEPLOYMENT" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_BATCH_SEED_JOB_DEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_BATCH" baseColumnNames="SEED_JOB_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_JOBDEF" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_BATCH_MONITOR_JOB_DEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_BATCH" baseColumnNames="MONITOR_JOB_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_JOBDEF" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_BATCH_JOB_DEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_BATCH" baseColumnNames="BATCH_JOB_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_JOBDEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_EXE_PROCINST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EXECUTION" baseColumnNames="PROC_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_EXE_PARENT" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EXECUTION" baseColumnNames="PARENT_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_EXE_SUPER" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EXECUTION" baseColumnNames="SUPER_EXEC_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_EXE_PROCDEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EXECUTION" baseColumnNames="PROC_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_PROCDEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_EVENT_EXEC" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EVENT_SUBSCR" baseColumnNames="EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_EXT_TASK_EXE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EXT_TASK" baseColumnNames="EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_EXT_TASK_ERROR_DETAILS" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_EXT_TASK" baseColumnNames="ERROR_DETAILS_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_GE_BYTEARRAY" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_TSKASS_TASK" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_IDENTITYLINK" baseColumnNames="TASK_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_TASK" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_ATHRZ_PROCEDEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_IDENTITYLINK" baseColumnNames="PROC_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_PROCDEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_INC_CAUSE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_INCIDENT" baseColumnNames="CAUSE_INCIDENT_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_INCIDENT" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_INC_EXE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_INCIDENT" baseColumnNames="EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_INC_PROCINST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_INCIDENT" baseColumnNames="PROC_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_INC_PROCDEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_INCIDENT" baseColumnNames="PROC_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_PROCDEF" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_INC_RCAUSE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_INCIDENT" baseColumnNames="ROOT_CAUSE_INCIDENT_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_INCIDENT" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_INC_JOB_DEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_INCIDENT" baseColumnNames="JOB_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_JOBDEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_JOB_EXCEPTION" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_JOB" baseColumnNames="EXCEPTION_STACK_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_GE_BYTEARRAY" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_TASK_EXE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_TASK" baseColumnNames="EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_TASK_PROCINST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_TASK" baseColumnNames="PROC_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_TASK_PROCDEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_TASK" baseColumnNames="PROC_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_PROCDEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_VAR_EXE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_VARIABLE" baseColumnNames="EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_VAR_PROCINST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_VARIABLE" baseColumnNames="PROC_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_VAR_BYTEARRAY" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_VARIABLE" baseColumnNames="BYTEARRAY_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_GE_BYTEARRAY" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_VAR_BATCH" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_VARIABLE" baseColumnNames="BATCH_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_BATCH" referencedColumnNames="ID_"/>


    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="schema.version"/>
      <column name="VALUE_" value="fox"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="schema.history"/>
      <column name="VALUE_" value="create(fox)"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="next.dbid"/>
      <column name="VALUE_" value="1"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="deployment.lock"/>
      <column name="VALUE_" value="0"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="history.cleanup.job.lock"/>
      <column name="VALUE_" value="0"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="startup.lock"/>
      <column name="VALUE_" value="0"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="telemetry.lock"/>
      <column name="VALUE_" value="0"/>
      <column name="REV_" value="1"/>
    </insert>
    <insert schemaName="CAMUNDA" tableName="ACT_GE_PROPERTY">
      <column name="NAME_" value="installationId.lock"/>
      <column name="VALUE_" value="0"/>
      <column name="REV_" value="1"/>
    </insert>

    <insert schemaName="CAMUNDA" tableName="ACT_GE_SCHEMA_LOG">
      <column name="ID_" value="0"/>
      <column name="TIMESTAMP_" value="${now}"/>
      <column name="VERSION_" value="7.15.0"/>
    </insert>

  </changeSet>

  <!--
  Extracted from the following files:

  camunda-bpm-platform/engine/src/main/resources/org/camunda/bpm/engine/db/create/activiti.postgres.create.case.engine.sql

  NOTE: Some entries in the activiti.postgres.create.case.engine.sql file impact the core tables
        defined in the activiti.postgres.create.engine.sql file, and as a result were moved to the
        change sets in the camunda-engine.changelog.xml file.
  -->
  <changeSet id="camunda-case-engine-7.15.0" author="Marcus Portmann">
    <comment>Camunda - Engine - 7.15.0</comment>
    <sql dbms="h2" endDelimiter=";">
      CREATE SCHEMA IF NOT EXISTS CAMUNDA
    </sql>
    <sql dbms="postgresql" endDelimiter=";">
      CREATE SCHEMA IF NOT EXISTS CAMUNDA
    </sql>
    <sql dbms="mssql" endDelimiter=";">
      CREATE SCHEMA CAMUNDA
    </sql>

    <createTable schemaName="CAMUNDA" tableName="ACT_RE_CASE_DEF">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="CATEGORY_" type="nvarchar(255)"/>
      <column name="NAME_" type="nvarchar(255)"/>
      <column name="KEY_" type="nvarchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="VERSION_" type="int">
        <constraints nullable="false"/>
      </column>
      <column name="DEPLOYMENT_ID_" type="nvarchar(64)"/>
      <column name="RESOURCE_NAME_" type="nvarchar(4000)"/>
      <column name="DGRM_RESOURCE_NAME_" type="nvarchar(4000)"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
      <column name="HISTORY_TTL_" type="int"/>
    </createTable>
    <createIndex indexName="ACT_IDX_CASE_DEF_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RE_CASE_DEF">
      <column name="TENANT_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_CASE_EXECUTION">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="CASE_INST_ID_" type="nvarchar(64)"/>
      <column name="SUPER_CASE_EXEC_" type="nvarchar(64)"/>
      <column name="SUPER_EXEC_" type="nvarchar(64)"/>
      <column name="BUSINESS_KEY_" type="nvarchar(255)"/>
      <column name="PARENT_ID_" type="nvarchar(64)"/>
      <column name="CASE_DEF_ID_" type="nvarchar(64)"/>
      <column name="ACT_ID_" type="nvarchar(255)"/>
      <column name="PREV_STATE_" type="int"/>
      <column name="CURRENT_STATE_" type="int"/>
      <column name="REQUIRED_" type="boolean"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_CASE_EXEC_BUSKEY" schemaName="CAMUNDA" tableName="ACT_RU_CASE_EXECUTION">
      <column name="BUSINESS_KEY_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_CASE_EXE_CASE_INST" schemaName="CAMUNDA" tableName="ACT_RU_CASE_EXECUTION">
      <column name="CASE_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_CASE_EXE_PARENT" schemaName="CAMUNDA" tableName="ACT_RU_CASE_EXECUTION">
      <column name="PARENT_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_CASE_EXE_CASE_DEF" schemaName="CAMUNDA" tableName="ACT_RU_CASE_EXECUTION">
      <column name="CASE_DEF_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_CASE_EXEC_TENANT_ID" schemaName="CAMUNDA" tableName="ACT_RU_CASE_EXECUTION">
      <column name="TENANT_ID_"/>
    </createIndex>

    <createTable schemaName="CAMUNDA" tableName="ACT_RU_CASE_SENTRY_PART">
      <column name="ID_" type="nvarchar(64)">
        <constraints primaryKey="true" nullable="false"/>
      </column>
      <column name="REV_" type="int"/>
      <column name="CASE_INST_ID_" type="nvarchar(64)"/>
      <column name="CASE_EXEC_ID_" type="nvarchar(64)"/>
      <column name="SENTRY_ID_" type="nvarchar(255)"/>
      <column name="TYPE_" type="nvarchar(255)"/>
      <column name="SOURCE_CASE_EXEC_ID_" type="nvarchar(64)"/>
      <column name="STANDARD_EVENT_" type="nvarchar(255)"/>
      <column name="SOURCE_" type="nvarchar(255)"/>
      <column name="VARIABLE_EVENT_" type="nvarchar(255)"/>
      <column name="VARIABLE_NAME_" type="nvarchar(255)"/>
      <column name="SATISFIED_" type="boolean"/>
      <column name="TENANT_ID_" type="nvarchar(64)"/>
    </createTable>
    <createIndex indexName="ACT_IDX_CASE_SENTRY_CASE_INST" schemaName="CAMUNDA" tableName="ACT_RU_CASE_SENTRY_PART">
      <column name="CASE_INST_ID_"/>
    </createIndex>
    <createIndex indexName="ACT_IDX_CASE_SENTRY_CASE_EXEC" schemaName="CAMUNDA" tableName="ACT_RU_CASE_SENTRY_PART">
      <column name="CASE_EXEC_ID_"/>
    </createIndex>


    <addForeignKeyConstraint constraintName="ACT_FK_CASE_EXE_CASE_INST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_CASE_EXECUTION" baseColumnNames="CASE_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_CASE_EXE_PARENT" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_CASE_EXECUTION" baseColumnNames="PARENT_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_CASE_EXE_CASE_DEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_CASE_EXECUTION" baseColumnNames="CASE_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_CASE_DEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_VAR_CASE_EXE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_VARIABLE" baseColumnNames="CASE_EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_VAR_CASE_INST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_VARIABLE" baseColumnNames="CASE_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_TASK_CASE_EXE" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_TASK" baseColumnNames="CASE_EXECUTION_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_TASK_CASE_DEF" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_TASK" baseColumnNames="CASE_DEF_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RE_CASE_DEF" referencedColumnNames="ID_"/>

    <addForeignKeyConstraint constraintName="ACT_FK_CASE_SENTRY_CASE_INST" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_CASE_SENTRY_PART" baseColumnNames="CASE_INST_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>
    <addForeignKeyConstraint constraintName="ACT_FK_CASE_SENTRY_CASE_EXEC" baseTableSchemaName="CAMUNDA"
      baseTableName="ACT_RU_CASE_SENTRY_PART" baseColumnNames="CASE_EXEC_ID_" referencedTableSchemaName="CAMUNDA"
      referencedTableName="ACT_RU_CASE_EXECUTION" referencedColumnNames="ID_"/>

  </changeSet>


</databaseChangeLog>
